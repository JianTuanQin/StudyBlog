## 前言

到时代码是打算利用`cocoapods`来集成模块和管理的,所以这里先来学习一下如何将自己的代码打包上传到`cocoapods`上,这里网上的资料比较多,我直接拿一篇自己觉得写的好点的吧:[链接](http://www.cocoachina.com/ios/20160301/15459.html),这里主要讲一下自己遇到的坑吧.

## 遇到的坑

- 在`.podspec`文件中`source_files`这个路径要配置好.
- `requires_arc`要打开,否则在依赖`AFNetworking`时,终端会提示`dispatch_group_t`不是一个对象
- `pod spec lint`和`pod trunk push`如果出现很多警告,可以在尾部添加`--allow-warnings`,例如`pod spec lint --allow-warnings`
- 尽量不要在头文件中导入其他文件,尽量使用`@class`这样的前置声明,如果非要导入,在输入命令行时,可以在尾部添加`--use-libraries`,例如`pod spec lint --use-libraries --allow-warnings`
- xib文件想上传的话可以这样子`s.resources = 'UCPlanHomeModule/UCPlanHomeModule/**/*.{png,xib}'`

## 更新cocoapod中自己的库

其实很简单,自己代码上传后,打上新的`tag`,并在自己的`podspec`文件中将`version`更新到相应的版本,然后执行下面的命令即可.

- pod spec lint
- pod trunk push

## 多人协作开发和可能遇到的问题